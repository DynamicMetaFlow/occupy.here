#!/usr/bin/lua

----------------------------
-- Begin of configuration --

-- Forum title
forum_title = 'occupy.here'

-- Forum description
forum_description = 'distributed wifi occupation'

-- Peer-to-peer location info
location_name = 'nyc'
location_latlng = '40.709328,-74.011245'

-- Warn user that off-site links will not work due to router being offline
forum_offline = true

-- If this CGI file is located in a different directory than the rest of the
-- forum, use base_path to guide it back to the forum base directory. For
-- example if forum.cgi has been moved to /www/cgi-bin and all the other files
-- are in /www then set base_path to '/www/'. Relative file system paths are
-- okay on some platforms, but OpenWRT expects an absolute path. You must
-- include a trailing slash.
base_path = '/www/'

-- Set public_root to the path where the forum appears publicly, including a
-- trailing slash. If you're serving all your files right off the server root
-- you'll want to use '/'.
public_root = '/'

-- Set archive_base to the directory path where the media archive files are
-- stored on disk. Include a trailing slash.
archive_base = '/www/data/media/'

-- Set archive_root to indicate the base URL of the media archive files.
-- On OpenWRT, you will  need to set this to a lighttpd public root since
-- uhttpd does not support HTTP Content-Range headers needed by the
-- Mobile Safari browser. Include a trailing slash.
archive_root = 'http://occupy.here:8080/'

-- Set archive_device to allow the router to mount USB stick on demand.
archive_device = '/dev/sda1'

-- End of configuration --
--------------------------

-- used for bootstrapping
package.path = package.path .. ";" .. base_path .. "app/?.lua"

-- used after chdir to base_path
package.path = package.path .. ";./app/?.lua"

local forum = require "forum"
forum.main()
